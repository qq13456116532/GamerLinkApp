<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:GamerLinkApp.ViewModels"
             x:Class="GamerLinkApp.Views.RegisterPage"
             x:DataType="vm:RegisterViewModel"
             Shell.TabBarIsVisible="False">
    <ContentPage.Background>
        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
            <GradientStop Color="#5561FF" Offset="0" />
            <GradientStop Color="#6C7AFF" Offset="0.3" />
            <GradientStop Color="#F4F5F7" Offset="0.75" />
            <GradientStop Color="#FFFFFF" Offset="1" />
        </LinearGradientBrush>
    </ContentPage.Background>

    <ContentPage.Resources>
        <Style x:Key="FormCardStyle" TargetType="Border">
            <Setter Property="Background" Value="#FFFFFF" />
            <Setter Property="Stroke" Value="#EEF0FF" />
            <Setter Property="StrokeThickness" Value="1" />
            <Setter Property="StrokeShape" Value="RoundRectangle 32" />
            <Setter Property="Padding" Value="28,32" />
        </Style>

        <Style x:Key="InputWrapperStyle" TargetType="Border">
            <Setter Property="Stroke" Value="#D9E1FF" />
            <Setter Property="StrokeThickness" Value="1" />
            <Setter Property="StrokeShape" Value="RoundRectangle 16" />
            <Setter Property="Background" Value="#F7F9FF" />
            <Setter Property="Padding" Value="16,12" />
        </Style>

        <Style x:Key="FormEntryStyle" TargetType="Entry">
            <Setter Property="BackgroundColor" Value="Transparent" />
            <Setter Property="TextColor" Value="#1A1A1A" />
            <Setter Property="PlaceholderColor" Value="#9AA3C0" />
            <Setter Property="FontSize" Value="15" />
            <Setter Property="FontFamily" Value="OpenSansRegular" />
        </Style>

        <Style x:Key="FieldLabelStyle" TargetType="Label">
            <Setter Property="FontSize" Value="13" />
            <Setter Property="TextColor" Value="#586075" />
            <Setter Property="FontAttributes" Value="Bold" />
        </Style>

        <Style x:Key="CardTitleStyle" TargetType="Label">
            <Setter Property="FontSize" Value="22" />
            <Setter Property="TextColor" Value="#1A1A1A" />
            <Setter Property="FontAttributes" Value="Bold" />
        </Style>

        <Style x:Key="CardSubtitleStyle" TargetType="Label">
            <Setter Property="FontSize" Value="14" />
            <Setter Property="TextColor" Value="#76809F" />
        </Style>

        <Style x:Key="PrimaryActionButton" TargetType="Button">
            <Setter Property="HeightRequest" Value="52" />
            <Setter Property="CornerRadius" Value="18" />
            <Setter Property="FontSize" Value="16" />
            <Setter Property="FontFamily" Value="OpenSansSemibold" />
            <Setter Property="TextColor" Value="White" />
        </Style>
    </ContentPage.Resources>

    <Grid>
        <ScrollView>
            <VerticalStackLayout Padding="24,72,24,40" Spacing="28">
                <VerticalStackLayout Spacing="6">
                    <Label Text="&#x52A0;&#x5165; GamerLink"
                           FontSize="30"
                           FontAttributes="Bold"
                           TextColor="White"
                           HorizontalOptions="Center" />
                    <Label Text="&#x5B8C;&#x5584;&#x4FE1;&#x606F;&#xFF0C;&#x5F00;&#x542F;&#x4E13;&#x5C5E;&#x670D;&#x52A1;&#x4F53;&#x9A8C;"
                           FontSize="15"
                           TextColor="#E8EBFF"
                           HorizontalOptions="Center"
                           HorizontalTextAlignment="Center" />
                </VerticalStackLayout>

                <Border Style="{StaticResource FormCardStyle}">
                    <Border.Shadow>
                        <Shadow Brush="#33512BD4" Offset="0,18" Radius="32" Opacity="0.35" />
                    </Border.Shadow>

                    <VerticalStackLayout Spacing="24">
                        <VerticalStackLayout Spacing="4">
                            <Label Style="{StaticResource CardTitleStyle}"
                                   Text="&#x521B;&#x5EFA;&#x65B0;&#x8D26;&#x6237;" />
                            <Label Style="{StaticResource CardSubtitleStyle}"
                                   Text="&#x586B;&#x5199;&#x4EE5;&#x4E0B;&#x4FE1;&#x606F;&#x5373;&#x53EF;&#x5B8C;&#x6210;&#x6CE8;&#x518C;" />
                        </VerticalStackLayout>

                        <VerticalStackLayout Spacing="18">
                            <VerticalStackLayout Spacing="6">
                                <Label Style="{StaticResource FieldLabelStyle}"
                                       Text="&#x7528;&#x6237;&#x540D;" />
                                <Border Style="{StaticResource InputWrapperStyle}">
                                    <Entry Text="{Binding Username}"
                                           Style="{StaticResource FormEntryStyle}"
                                           Placeholder="&#x8BF7;&#x8F93;&#x5165;&#x7528;&#x6237;&#x540D;"
                                           ClearButtonVisibility="WhileEditing" />
                                </Border>
                            </VerticalStackLayout>

                            <VerticalStackLayout Spacing="6">
                                <Label Style="{StaticResource FieldLabelStyle}"
                                       Text="&#x90AE;&#x7BB1;" />
                                <Border Style="{StaticResource InputWrapperStyle}">
                                    <Entry Text="{Binding Email}"
                                           Style="{StaticResource FormEntryStyle}"
                                           Keyboard="Email"
                                           Placeholder="&#x8BF7;&#x8F93;&#x5165;&#x90AE;&#x7BB1;"
                                           ClearButtonVisibility="WhileEditing" />
                                </Border>
                            </VerticalStackLayout>

                            <VerticalStackLayout Spacing="6">
                                <Label Style="{StaticResource FieldLabelStyle}"
                                       Text="&#x6635;&#x79F0;&#xFF08;&#x53EF;&#x9009;&#xFF09;" />
                                <Border Style="{StaticResource InputWrapperStyle}">
                                    <Entry Text="{Binding Nickname}"
                                           Style="{StaticResource FormEntryStyle}"
                                           Placeholder="&#x8BF7;&#x8F93;&#x5165;&#x6635;&#x79F0;&#xFF08;&#x53EF;&#x9009;&#xFF09;"
                                           ClearButtonVisibility="WhileEditing" />
                                </Border>
                            </VerticalStackLayout>

                            <VerticalStackLayout Spacing="6">
                                <Label Style="{StaticResource FieldLabelStyle}"
                                       Text="&#x5BC6;&#x7801;" />
                                <Border Style="{StaticResource InputWrapperStyle}">
                                    <Entry Text="{Binding Password}"
                                           Style="{StaticResource FormEntryStyle}"
                                           IsPassword="True"
                                           Placeholder="&#x8BF7;&#x8F93;&#x5165;&#x5BC6;&#x7801;" />
                                </Border>
                            </VerticalStackLayout>

                            <VerticalStackLayout Spacing="6">
                                <Label Style="{StaticResource FieldLabelStyle}"
                                       Text="&#x786E;&#x8BA4;&#x5BC6;&#x7801;" />
                                <Border Style="{StaticResource InputWrapperStyle}">
                                    <Entry Text="{Binding ConfirmPassword}"
                                           Style="{StaticResource FormEntryStyle}"
                                           IsPassword="True"
                                           Placeholder="&#x8BF7;&#x518D;&#x6B21;&#x8F93;&#x5165;&#x5BC6;&#x7801;" />
                                </Border>
                            </VerticalStackLayout>
                        </VerticalStackLayout>

                        <Label Text="{Binding ErrorMessage}"
                               TextColor="#E04E5B"
                               FontSize="13"
                               IsVisible="{Binding HasError}" />

                        <Button Text="&#x7ACB;&#x5373;&#x6CE8;&#x518C;"
                                Command="{Binding RegisterCommand}"
                                Style="{StaticResource PrimaryActionButton}"
                                IsEnabled="{Binding CanRegister}">
                            <Button.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                    <GradientStop Color="#5B61FF" Offset="0" />
                                    <GradientStop Color="#7C8FFF" Offset="1" />
                                </LinearGradientBrush>
                            </Button.Background>
                            <Button.Shadow>
                                <Shadow Brush="#305B61FF" Offset="0,10" Radius="24" Opacity="0.45" />
                            </Button.Shadow>
                        </Button>

                        <HorizontalStackLayout HorizontalOptions="Center" Spacing="6">
                            <Label Text="&#x5DF2;&#x6709;&#x8D26;&#x53F7;&#xFF1F;"
                                   FontSize="13"
                                   TextColor="#6D6F7C" />
                            <Label Text="&#x8FD4;&#x56DE;&#x767B;&#x5F55;"
                                   FontSize="13"
                                   FontAttributes="Bold"
                                   TextColor="#5B61FF">
                                <Label.GestureRecognizers>
                                    <TapGestureRecognizer Tapped="OnLoginTapped" />
                                </Label.GestureRecognizers>
                            </Label>
                        </HorizontalStackLayout>
                    </VerticalStackLayout>
                </Border>
            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>
